# altFINS API TypeScript Examples

A comprehensive TypeScript SDK and examples for the [altFINS Public API v2](https://altfins.com/crypto-market-and-analytical-data-api2/documentation/api/public-api).

## Overview

This package provides a fully-typed TypeScript client for interacting with the altFINS cryptocurrency analytics API. The API offers access to market data, technical indicators, trading signals, and news summaries for over 3,000 cryptocurrencies.

## Features

- **Complete Type Definitions**: Full TypeScript types for all API endpoints, requests, and responses
- **API Client Class**: A clean, promise-based client with built-in error handling
- **Comprehensive Examples**: Working examples for every endpoint
- **Zero Dependencies**: Uses only native `fetch` API (Node.js 18+)

## Installation

```bash
# Clone or copy the files
npm install

# Build the TypeScript files
npm run build
```

## Quick Start

```typescript
import { AltfinsApiClient } from './src';

// Initialize the client with your API key
const client = new AltfinsApiClient({
  apiKey: 'YOUR_API_KEY',
});

// Get current prices for BTC and ETH
const snapshot = await client.getOhlcSnapshot({
  symbols: ['BTC', 'ETH'],
  timeInterval: 'DAILY',
});

console.log(snapshot);
```

## API Endpoints

### 1. Screener Data

Filter and discover crypto assets using powerful screening logic.

```typescript
// Get screener data with filters
const screenerData = await client.getScreenerData({
  symbols: ['BTC', 'ETH'],
  timeInterval: 'DAILY',
  displayType: ['PERFORMANCE', 'RSI14', 'SMA50', 'MARKET_CAP'],
  numericFilterType: 'RSI14',
  lteFilter: 30, // RSI below 30 (oversold)
  minimumMarketCapValue: 100000000,
}, {
  page: 0,
  size: 20,
});

// Get available value types
const valueTypes = await client.getScreenerValueTypes();
```

### 2. OHLC Data

Access current and historical price data.

```typescript
// Get current OHLC snapshot
const snapshot = await client.getOhlcSnapshot({
  symbols: ['BTC', 'ETH', 'SOL'],
  timeInterval: 'DAILY',
});

// Get historical OHLC data
const history = await client.getOhlcHistory({
  symbol: 'BTC',
  timeInterval: 'DAILY',
  from: '2024-01-01T00:00:00Z',
  to: '2024-01-31T23:59:59Z',
}, {
  page: 0,
  size: 100,
});
```

### 3. Analytics

Access 150+ technical indicators and analytics.

```typescript
// Get RSI history
const rsiData = await client.getAnalyticsHistory({
  symbol: 'BTC',
  timeInterval: 'DAILY',
  analyticsType: 'RSI14',
  from: '2024-01-01T00:00:00Z',
  to: '2024-01-31T23:59:59Z',
});

// Get available analytic types
const analyticTypes = await client.getAnalyticTypes();
```

### 4. Technical Analysis

Access expert-led trade setups with entry/exit zones.

```typescript
// Get all technical analysis
const analysis = await client.getTechnicalAnalysis({
  page: 0,
  size: 10,
});

// Get analysis for specific symbol
const btcAnalysis = await client.getTechnicalAnalysis({
  symbol: 'BTC',
});
```

### 5. Signals Feed

Get trading signals generated by the platform.

```typescript
// Get bullish signals
const signals = await client.getSignalsFeed({
  coins: ['BTC', 'ETH'],
  direction: 'BULLISH',
  fromDate: '2024-01-01T00:00:00Z',
  toDate: '2024-01-31T23:59:59Z',
});

// Get available signal keys
const signalKeys = await client.getSignalKeys();
```

### 6. News Summary

Access NLP-processed news summaries.

```typescript
// Get recent news
const news = await client.getNewsSummary({
  fromDate: '2024-01-01T00:00:00Z',
  toDate: '2024-01-02T00:00:00Z',
}, {
  page: 0,
  size: 10,
});

// Find specific news item
const newsItem = await client.findNewsSummary({
  MessageId: 12345,
  SourceId: 1,
});
```

### 7. Common Enums

Access reference data and rate limit information.

```typescript
// Get all available symbols
const symbols = await client.getSymbols();

// Get available time intervals
const intervals = await client.getIntervals();

// Check rate limits
const monthlyPermits = await client.getMonthlyAvailablePermits();
const availablePermits = await client.getAvailablePermits();
```

## Type Definitions

The SDK includes comprehensive TypeScript types:

| Type | Description |
|------|-------------|
| `TimeInterval` | Time intervals: MINUTES15, HOURLY, HOURS4, HOURS12, DAILY |
| `TrendDirection` | BULLISH or BEARISH |
| `ScreenerDisplayType` | 50+ display types for screener data |
| `SignalFilterType` | SHORT_TERM_TREND, MEDIUM_TERM_TREND, LONG_TERM_TREND |
| `PaginatedResponse<T>` | Generic paginated response wrapper |
| `OhlcData` | OHLC candlestick data |
| `AnalyticsDataItem` | Analytics data point |
| `SignalDataItem` | Trading signal data |
| `NewsSummaryItem` | News summary data |

## Authentication

The API uses API Key authentication. Include your key in the `X-API-KEY` header:

```typescript
const client = new AltfinsApiClient({
  apiKey: 'your-api-key-here',
});
```

To obtain an API key:
1. Log in to the [altFINS portal](https://altfins.com)
2. Navigate to your profile page
3. Generate an API key

## Rate Limits

The API has rate limits based on your subscription plan. Check your available permits:

```typescript
const permits = await client.getMonthlyAvailablePermits();
console.log(`Monthly permits remaining: ${permits}`);
```

## Error Handling

The client throws errors for failed requests:

```typescript
try {
  const data = await client.getOhlcSnapshot({ symbols: ['BTC'] });
} catch (error) {
  if (error instanceof Error) {
    console.error('API Error:', error.message);
  }
}
```

## Project Structure

```
altfins-api-examples/
├── src/
│   ├── types.ts          # TypeScript type definitions
│   ├── client.ts         # API client class
│   ├── api-client.ts     # Shared API client instance
│   ├── examples.ts       # Examples orchestrator
│   ├── examples/         # Modular example files
│   │   ├── screener.ts
│   │   ├── ohlc.ts
│   │   ├── analytics.ts
│   │   ├── technical-analysis.ts
│   │   ├── signals.ts
│   │   ├── news.ts
│   │   └── reference.ts
│   └── index.ts          # Main exports
├── package.json
├── tsconfig.json
└── README.md
```

## Running Examples

The project now includes an interactive runner that allows you to easily select and execute specific examples.

```bash
# Set your API key (optional if hardcoded in src/api-client.ts)
export ALTFINS_API_KEY="your-api-key"

# Run the interactive example runner
npm start
```

This will display a menu where you can choose which example to run by entering its number.

To run all examples sequentially (traditional mode), you can modify `package.json` to point `start` back to `src/examples.ts` or run:

```bash
npx ts-node src/examples.ts
```

## API Reference

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/api/v2/public/screener-data/search-requests` | POST | Filter crypto assets |
| `/api/v2/public/screener-data/value-types` | GET | Get available value types |
| `/api/v2/public/ohlcv/snapshot-requests` | POST | Get current OHLC data |
| `/api/v2/public/ohlcv/history-requests` | POST | Get historical OHLC data |
| `/api/v2/public/analytics/search-requests` | POST | Get analytics history |
| `/api/v2/public/analytics/types` | GET | Get analytic types |
| `/api/v2/public/technical-analysis/data` | GET | Get technical analysis |
| `/api/v2/public/signals-feed/search-requests` | POST | Get trading signals |
| `/api/v2/public/signals-feed/signal-keys` | GET | Get signal keys |
| `/api/v2/public/news-summary/search-requests` | POST | Get news summaries |
| `/api/v2/public/news-summary/find-summary` | POST | Find specific news |
| `/api/v2/public/symbols` | GET | Get available symbols |
| `/api/v2/public/intervals` | GET | Get time intervals |
| `/api/v2/public/monthly-available-permits` | GET | Get monthly permits |
| `/api/v2/public/available-permits` | GET | Get available permits |
| `/api/v2/public/all-available-permits` | GET | Get all permits info |

## License

MIT License

## Links

- [altFINS Platform](https://altfins.com)
- [API Documentation](https://altfins.com/crypto-market-and-analytical-data-api2/documentation/api/public-api)
- [API Pricing](https://altfins.com/crypto-market-and-analytical-data-api2/documentation/api/pricing)
